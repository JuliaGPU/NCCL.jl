These sources are copied from CuArrays.jl.
